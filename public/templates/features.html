<div class="span5" style="margin-left: 0">
    <form id="feature-search" class="form-search" ng-submit="featureService.search()">
        <input type="text" class="span5 search-query" ng-model="junk" roadmapper-ui-select2="querySelect2Options" roadmapper-ui-select2-model="featureService.query">
    </form>
</div>

<div class="span3" style="margin: 6px auto auto 6px">
    <img src="/img/spinner.gif" width="16" height="16" ng-show="!featureService.queryReturned"/>
    <a href="#/features/new">Create new feature</a>
</div>

<div class="text-right">
    <div ng-show="featureService.features.length > featureService.numPerPage" class="no-selection">
        <pagination num-pages="featureService.numPages()"
                    current-page="featureService.currentPage" max-size="featureService.maxSize"
                    boundary-links="true"></pagination>
    </div>
</div>

<table id="feature-list" class="table table-striped table-hover" ng-show="featureService.queryReturned">
    <thead>
    <tr>
        <th style="width: 2em"><a href="" ng-click="featureService.sort('id')">ID</a></th>
        <th><a href="" ng-click="featureService.sort('title')">Title</a></th>
        <th style="width: 3em"><a href="" ng-click="featureService.sort('state')">State</a></th>
        <th style="width: 3em"><a href="" ng-click="featureService.sort('engineeringCost')">Cost</a></th>
        <th style="width: 3em"><a href="" ng-click="featureService.sort('revenueBenefit')">Rev</a></th>
        <th style="width: 3em"><a href="" ng-click="featureService.sort('retentionBenefit')">Ret</a></th>
        <th style="width: 3em"><a href="" ng-click="featureService.sort('positioningBenefit')">Pos</a></th>
        <th style="width: 2em" class="text-right"><a href="" ng-click="featureService.sort('score')">Score</a></th>
        <th style="width: 3em" class="text-right"><a href="" ng-click="featureService.sort('problemCount')">Probs</a></th>
        <th style="width: 6em" class="text-right"><a href="" ng-click="featureService.sort('problemRevenue')">ARR</a></th>
        <th style="width: 2em"><a href="" ng-click="featureService.sort('quarter')">Qtr</a></th>
        <th style="width: 6em"><a href="" ng-click="featureService.sort('team.name')">Team</a></th>
        <th style="width: 3em"><a href="" ng-click="featureService.sort('lastModified')">Mod</a></th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="feature in featureService.filteredFeatures">
        <td>{{feature.id}}</td>
        <td class="title">
            <a ng-click="featureService.selectFeature(feature)">{{feature.title}}</a>
        </td>
        <td>{{feature.state}}</td>
        <td>{{feature.engineeringCost | size}}</td>
        <td>{{feature.revenueBenefit | size}}</td>
        <td>{{feature.retentionBenefit| size}}</td>
        <td>{{feature.positioningBenefit| size}}</td>
        <td class="text-right"><span ng-show="feature.score > 0">{{feature.score}}</span></td>
        <td class="text-right"><a ng-click="selectProblems(feature)" ng-show="feature.problemCount > 0">{{feature.problemCount}}</a></td>
        <td class="text-right"><span ng-show="feature.problemRevenue  > 0">{{feature.problemRevenue | noFractionCurrency}}</span></td>
        <td><span tooltip="{{feature.quarter | longQuarter}}">{{feature.quarter | shortQuarter}}</span></td>
        <td>{{feature.team.name}}</td>
        <td><span tooltip="{{feature.lastModifiedBy.name}} on {{feature.lastModified | date}}" tooltip-placement="left">{{feature.lastModified | date:'MMM d'}}</span></td>
    </tr>
    </tbody>

</table>
