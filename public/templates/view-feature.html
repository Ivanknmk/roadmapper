<div class="row">
    <div class="span4">
        <a href="/#/features">&#8617; Back to {{featureService.features.length}} features</a>
    </div>

    <div class="span4 quickNavLinks">
        <a ng-show="featureService.prevFeature" ng-click="featureService.selectFeature(featureService.prevFeature)">&#8592; {{featureService.prevFeature.title}}</a>
    </div>

    <div class="span4 quickNavLinks">
        <a ng-show="featureService.nextFeature" ng-click="featureService.selectFeature(featureService.nextFeature)">&#8594; {{featureService.nextFeature.title}}</a>
    </div>
</div>

<div class="row">
    <div class="span8">

        <h3>Feature {{selectedFeature.id}}</h3>

        <form name="editFeatureForm" novalidate cmd-enter="cmdEnter()">
        
            <div ng-include="'validation.html'"></div>
        
            <div class="controls">
                <input type="text" class="span8" ng-model="selectedFeature.title" autofocus="autofocus" placeholder="Feature" required>
            </div>
        
            <div class="controls controls-row">
                <textarea class="span8" rows="10" ng-model="selectedFeature.description" placeholder="Extended Description"></textarea>
            </div>

            <div class="controls controls-row">
                <select class="span2" ng-model="selectedFeature.engineeringCost" ng-options="e for e in enumSizes">
                    <option value="">Engineering cost</option>
                </select>
                <select class="span2" ng-model="selectedFeature.revenueBenefit" ng-options="e for e in enumSizes">
                    <option value="">Revenue benefits</option>
                </select>
                <select class="span2" ng-model="selectedFeature.retentionBenefit" ng-options="e for e in enumSizes">
                    <option value="">Retention benefits</option>
                </select>
                <select class="span2" ng-model="selectedFeature.positioningBenefit" ng-options="e for e in enumSizes">
                    <option value="">Positioning benefits</option>
                </select>
            </div>
        
            <div class="controls controls-row">
                <input type="hidden" class="span3" ui-select2="teamSelect2Options" ng-model="selectedFeature.team" placeholder="Not mapped to a team"/>
                <select class="span2" ng-model="selectedFeature.quarter" ng-options="q.id as q.label for q in enumActiveQuarters">
                    <option value="">Unscheduled</option>
                </select>
                <select class="span3" ng-model="selectedFeature.state" ng-options="e for e in enumFeatureStates" required>
                    <option value="">Status</option>
                </select>
            </div>
        
            <div class="controls controls-row">
                <input type="text" class="span8" roadmapper-ui-select2="tagSelect2Options" ng-model="junk" roadmapper-ui-select2-model="selectedFeature.tags"/>
            </div>
        
        </form>

        <div class="row">
            <div class="span4">
                <button class="btn btn-primary" ng-click="saveFeature(selectedFeature)" ng-disabled="editFeatureForm.$invalid || editFeatureForm.$pristine" type="submit">Save</button>

                <img src="/img/spinner.gif" width="16" height="16" ng-show="saving"/>

                <span ng-show="saved">
                    Saved...
                </span>
            </div>
            <div class="span4" style="text-align: right">
                <div ng-show="featureService.nextFeature">
                    <button class="btn btn-secondary" ng-click="saveFeatureAndContinue(selectedFeature)" ng-disabled="editFeatureForm.$invalid || editFeatureForm.$pristine" type="submit">Save &raquo;</button>
                </div>
            </div>
        </div>

    </div>

    <div class="span4">
        <div ng-show="relatedFeatures.length > 0">
            <h3>Related Features</h3>
            <ul>
                <li ng-repeat="feature in relatedFeatures">
                    <a ng-click="featureService.selectFeature(featureService.nextFeature)">{{feature.title}}</a>
                </li>
            </ul>
        </div>

    </div>

</div>

        

